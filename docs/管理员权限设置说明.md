# 设置管理员权限说明

## 方法一：使用 PowerShell 脚本（推荐）

1. 先正常编译项目：
   ```bash
   npm run tauri build
   ```

2. 编译成功后，运行 PowerShell 脚本：
   ```powershell
   .\set_admin_manifest.ps1 "src-tauri\target\release\windsurf-account-manager.exe"
   ```

   注意：需要安装 Windows SDK 或 Visual Studio，脚本会自动查找 mt.exe 工具。

## 方法二：使用批处理文件（最简单）

直接运行：
```batch
build_with_admin.bat
```

这个批处理会自动编译并设置管理员权限。

## 方法三：使用 Resource Hacker（手动）

如果没有 Windows SDK，可以使用第三方工具：

1. 下载 [Resource Hacker](http://www.angusj.com/resourcehacker/)

2. 打开编译后的 exe 文件

3. 在菜单中选择 Action > Add from a blank script

4. 输入以下内容：
   ```
   1 24 "admin.manifest"
   ```

5. 创建 admin.manifest 文件，内容如下：
   ```xml
   <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
   <assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
     <trustInfo xmlns="urn:schemas-microsoft-com:asm.v2">
       <security>
         <requestedPrivileges>
           <requestedExecutionLevel level="requireAdministrator" uiAccess="false"/>
         </requestedPrivileges>
       </security>
     </trustInfo>
   </assembly>
   ```

6. 保存并重新编译资源

## 方法四：使用 Manifest Tool (mt.exe) 命令行

如果已安装 Visual Studio 或 Windows SDK：

```cmd
"C:\Program Files (x86)\Windows Kits\10\bin\10.0.19041.0\x64\mt.exe" -manifest admin.manifest -outputresource:windsurf-account-manager.exe;1
```

路径可能因版本而异。

## 注意事项

- 设置管理员权限后，每次启动程序都会弹出 UAC 对话框
- 用户必须确认才能运行程序
- 修改 `HKEY_LOCAL_MACHINE` 下的注册表需要管理员权限
- 建议在修改前备份原始的 MachineGuid 值
